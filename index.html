<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>台灣小吃店 - LINE 快速訂餐</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            background-color: #f7fafc;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        input, textarea, select {
            -webkit-user-select: text;
            user-select: text;
        }
        @keyframes slide-in {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .animate-slide-in { animation: slide-in 0.3s ease-out forwards; }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.5s ease-out; }
        .clickable-btn {
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
        }
        .clickable-btn:active {
            transform: scale(0.95);
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="min-h-screen flex items-center justify-center p-4">
            <div class="text-center">
                <div class="text-6xl mb-4">⏳</div>
                <p class="text-gray-600">載入訂餐功能中...</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useCallback, useEffect, useMemo } = React;

        // 配置 - 使用安全的全局變數方式
        const CONFIG = {
            LIFF_ID: (typeof window !== 'undefined' && window.LIFF_CONFIG) ? window.LIFF_CONFIG.LIFF_ID : null,
            API_ENDPOINT: (typeof window !== 'undefined' && window.LIFF_CONFIG) ? window.LIFF_CONFIG.API_ENDPOINT : null,
            DELIVERY_FEE: 30
        };

        // 默認菜單
        const DEFAULT_MENU = [
            { name: '滷肉飯', price: 35, icon: '🍚', status: '供應中' },
            { name: '雞肉飯', price: 40, icon: '🍗', status: '供應中' },
            { name: '蚵仔煎', price: 65, icon: '🍳', status: '供應中' },
            { name: '大腸麵線', price: 50, icon: '🍜', status: '供應中' },
            { name: '珍珠奶茶', price: 45, icon: '🥤', status: '供應中' }
        ];

        // 簡單的測試組件 - 先確保基本功能正常
        const SimpleApp = () => {
            return React.createElement('div', { className: 'min-h-screen bg-gray-100 p-4' },
                React.createElement('div', { className: 'max-w-md mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden' },
                    React.createElement('header', { className: 'bg-green-500 text-white p-6 text-center' },
                        React.createElement('h1', { className: 'text-2xl font-bold mb-2' }, '🍜 台灣小吃店'),
                        React.createElement('p', { className: 'text-sm opacity-90' }, 'LINE 快速訂餐 - 24小時服務')
                    ),
                    React.createElement('main', { className: 'p-6 text-center' },
                        React.createElement('div', { className: 'text-6xl mb-4' }, '🎉'),
                        React.createElement('h2', { className: 'text-xl font-bold text-green-600 mb-2' }, '訂餐系統載入成功！'),
                        React.createElement('p', { className: 'text-gray-600 mb-4' }, '現在可以開始訂餐了'),
                        React.createElement('button', {
                            onClick: () => alert('功能正常！'),
                            className: 'bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded clickable-btn'
                        }, '測試按鈕')
                    ),
                    React.createElement('footer', { className: 'bg-gray-100 p-4 text-center text-xs text-gray-500 border-t' },
                        React.createElement('p', null, '📍 營業時間: 10:00 - 21:00 | 📞 聯絡電話: 02-1234-5678')
                    )
                )
            );
        };

        // 渲染應用
        console.log('開始渲染應用...');
        ReactDOM.render(React.createElement(SimpleApp), document.getElementById('root'));
        console.log('應用渲染完成');
    </script>
</body>
</html>
